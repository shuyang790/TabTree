<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TabTree</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <div id="search-wrap" class="search-wrap" data-drop-active="false">
        <input
          id="search"
          type="search"
          placeholder="Search tabs by title or URL"
          data-i18n-placeholder="searchPlaceholder"
        />
        <div class="search-actions">
          <button
            id="add-child-global"
            class="topbar-icon-btn"
            type="button"
            title="Add child tab"
            aria-label="Add child tab"
            data-i18n-title="addChildTab"
            data-i18n-aria-label="addChildTab"
          >
            <svg class="topbar-icon" viewBox="0 0 20 20" aria-hidden="true">
              <path d="M10 4v12M4 10h12" />
            </svg>
          </button>
          <button
            id="open-settings"
            class="topbar-icon-btn"
            type="button"
            title="Settings"
            aria-label="Settings"
            data-i18n-title="settings"
            data-i18n-aria-label="settings"
          >
            <svg class="topbar-icon" viewBox="0 0 20 20" aria-hidden="true">
              <path
                d="M8 2.8a2 2 0 0 1 4 0l.17 1.07a6.2 6.2 0 0 1 1.28.54l.94-.53a2 2 0 1 1 2 3.47l-.93.54a6.4 6.4 0 0 1 0 1.46l.93.54a2 2 0 1 1-2 3.47l-.94-.53a6.2 6.2 0 0 1-1.28.54L12 17.2a2 2 0 1 1-4 0l-.17-1.07a6.2 6.2 0 0 1-1.28-.54l-.94.53a2 2 0 1 1-2-3.47l.93-.54a6.4 6.4 0 0 1 0-1.46l-.93-.54a2 2 0 1 1 2-3.47l.94.53c.4-.24.84-.42 1.28-.54z"
              />
              <circle cx="10" cy="10" r="2.3" />
            </svg>
          </button>
        </div>
        <div id="search-drop-hint" class="search-drop-hint" hidden data-i18n="dropToTopLevelHint">
          Drop here to move to top-level
        </div>
      </div>

      <section
        id="tree-root"
        class="tree-root"
        aria-label="Tab tree"
        aria-multiselectable="true"
        role="tree"
        data-i18n-aria-label="tabTreeAriaLabel"
      ></section>

      <div
        id="bottom-root-drop-zone"
        class="bottom-root-drop-zone"
        hidden
        data-i18n="dropToTopLevelBottomHint"
      >
        Drop here to move to top-level
      </div>

      <div id="drag-status-chip" class="drag-status-chip" hidden aria-live="polite"></div>
      <div id="drag-anchor-chip" class="drag-anchor-chip" hidden aria-live="polite"></div>

      <footer class="hint-bar" id="hint-bar"></footer>
    </div>

    <aside id="settings-panel" class="settings-panel" hidden>
      <div class="settings-head">
        <h2 data-i18n="settingsPanelTitle">Appearance & Behavior</h2>
        <button id="close-settings" class="btn btn-ghost" data-i18n="close">Close</button>
      </div>

      <form id="settings-form" class="settings-form">
        <section class="settings-card" data-settings-section="appearance">
          <header class="settings-card-head">
            <div>
              <h3 data-i18n="settingsAppearanceTitle">Appearance</h3>
              <p data-i18n="settingsAppearanceDescription">Theme, spacing, and typography.</p>
            </div>
            <button
              id="reset-appearance-settings"
              class="btn btn-ghost settings-reset-btn"
              type="button"
              data-i18n="resetAppearance"
            >
              Reset Appearance
            </button>
          </header>

          <label>
            <span data-i18n="lightAppearance">Light Appearance</span>
            <select name="themePresetLight">
              <option value="base-light">Base Light</option>
              <optgroup label="Catppuccin">
                <option value="catppuccin-latte">Catppuccin — Latte</option>
                <option value="catppuccin-frappe">Catppuccin — Frappe</option>
                <option value="catppuccin-macchiato">Catppuccin — Macchiato</option>
                <option value="catppuccin-mocha">Catppuccin — Mocha</option>
              </optgroup>
              <optgroup label="Everforest">
                <option value="everforest-light">Everforest — Light</option>
                <option value="everforest-dark">Everforest — Dark</option>
              </optgroup>
              <optgroup label="Gruvbox">
                <option value="gruvbox-light">Gruvbox — Light</option>
                <option value="gruvbox-dark">Gruvbox — Dark</option>
              </optgroup>
              <optgroup label="Tokyo Night">
                <option value="tokyonight-day">Tokyo Night — Day</option>
                <option value="tokyonight-night">Tokyo Night — Night</option>
              </optgroup>
              <optgroup label="Kanagawa">
                <option value="kanagawa-lotus">Kanagawa — Lotus</option>
                <option value="kanagawa-wave">Kanagawa — Wave</option>
              </optgroup>
              <optgroup label="One">
                <option value="one-light">One — Light</option>
                <option value="one-dark">One — Dark</option>
              </optgroup>
            </select>
          </label>

          <label>
            <span data-i18n="darkAppearance">Dark Appearance</span>
            <select name="themePresetDark">
              <option value="base-dark">Base Dark</option>
              <optgroup label="Catppuccin">
                <option value="catppuccin-latte">Catppuccin — Latte</option>
                <option value="catppuccin-frappe">Catppuccin — Frappe</option>
                <option value="catppuccin-macchiato">Catppuccin — Macchiato</option>
                <option value="catppuccin-mocha">Catppuccin — Mocha</option>
              </optgroup>
              <optgroup label="Everforest">
                <option value="everforest-light">Everforest — Light</option>
                <option value="everforest-dark">Everforest — Dark</option>
              </optgroup>
              <optgroup label="Gruvbox">
                <option value="gruvbox-light">Gruvbox — Light</option>
                <option value="gruvbox-dark">Gruvbox — Dark</option>
              </optgroup>
              <optgroup label="Tokyo Night">
                <option value="tokyonight-day">Tokyo Night — Day</option>
                <option value="tokyonight-night">Tokyo Night — Night</option>
              </optgroup>
              <optgroup label="Kanagawa">
                <option value="kanagawa-lotus">Kanagawa — Lotus</option>
                <option value="kanagawa-wave">Kanagawa — Wave</option>
              </optgroup>
              <optgroup label="One">
                <option value="one-light">One — Light</option>
                <option value="one-dark">One — Dark</option>
              </optgroup>
            </select>
          </label>

          <label>
            <span data-i18n="accentColor">Accent Color</span>
            <input type="color" name="accentColor" />
          </label>

          <label>
            <span data-i18n="density">Density</span>
            <select name="density">
              <option value="compact" data-i18n="densityCompact">Compact</option>
              <option value="comfortable" data-i18n="densityComfortable">Comfortable</option>
              <option value="cozy" data-i18n="densityCozy">Cozy</option>
              <option value="spacious" data-i18n="densitySpacious">Spacious</option>
            </select>
          </label>

          <details class="settings-advanced" id="appearance-advanced">
            <summary data-i18n="advancedAppearance">Advanced appearance</summary>

            <label>
              <span data-i18n="fontScale">Font Scale</span>
              <input type="range" name="fontScale" min="0.9" max="1.2" step="0.05" />
            </label>

            <label>
              <span data-i18n="indentWidth">Indent Width</span>
              <input type="range" name="indentPx" min="10" max="28" step="1" />
            </label>

            <label>
              <span data-i18n="cornerRadius">Corner Radius</span>
              <input type="range" name="radiusPx" min="2" max="16" step="1" />
            </label>
          </details>
        </section>

        <section class="settings-card" data-settings-section="behavior">
          <header class="settings-card-head">
            <div>
              <h3 data-i18n="settingsBehaviorTitle">Behavior</h3>
              <p data-i18n="settingsBehaviorDescription">Adjust what is shown and how you interact.</p>
            </div>
            <button
              id="reset-behavior-settings"
              class="btn btn-ghost settings-reset-btn"
              type="button"
              data-i18n="resetBehavior"
            >
              Reset Behavior
            </button>
          </header>

          <label class="checkbox">
            <input type="checkbox" name="showFavicons" />
            <span data-i18n="showFavicons">Show favicons</span>
          </label>

          <label class="checkbox">
            <input type="checkbox" name="showCloseButton" />
            <span data-i18n="showCloseButtons">Show close buttons</span>
          </label>

          <label class="checkbox">
            <input type="checkbox" name="showGroupHeaders" />
            <span data-i18n="showGroupSubtrees">Show group subtrees</span>
          </label>

          <label class="checkbox">
            <input type="checkbox" name="showDragStatusChip" />
            <span data-i18n="showDragStatusChip">Show drag status text</span>
          </label>

          <label class="checkbox">
            <input type="checkbox" name="shortcutHintsEnabled" />
            <span data-i18n="showShortcutHints">Show shortcut hints</span>
          </label>
        </section>

        <section class="settings-card" data-settings-section="safety">
          <header class="settings-card-head">
            <div>
              <h3 data-i18n="settingsSafetyTitle">Safety</h3>
              <p data-i18n="settingsSafetyDescription">Control confirmation prompts before destructive actions.</p>
            </div>
            <button
              id="reset-safety-settings"
              class="btn btn-ghost settings-reset-btn"
              type="button"
              data-i18n="resetSafety"
            >
              Reset Safety
            </button>
          </header>

          <label class="checkbox">
            <input type="checkbox" name="confirmCloseSubtree" />
            <span data-i18n="confirmBeforeClosingTree">Confirm before closing tree (2+ tabs)</span>
          </label>

          <label class="checkbox">
            <input type="checkbox" name="confirmCloseBatch" />
            <span data-i18n="confirmBeforeClosingBatch">Confirm before closing selected tabs (2+ tabs)</span>
          </label>
        </section>
      </form>
    </aside>

    <div id="confirm-overlay" class="confirm-overlay" hidden>
      <div
        class="confirm-modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="confirm-title"
        aria-describedby="confirm-message"
      >
        <h3 id="confirm-title" data-i18n="closeTabsQuestion">Close tabs?</h3>
        <p id="confirm-message" class="confirm-message"></p>
        <label class="checkbox confirm-check">
          <input id="confirm-skip" type="checkbox" />
          <span data-i18n="dontAskAgain">Don't ask again</span>
        </label>
        <div class="confirm-actions">
          <button id="confirm-cancel" class="btn btn-ghost" data-i18n="cancel">Cancel</button>
          <button id="confirm-ok" class="btn btn-danger" data-i18n="close">Close</button>
        </div>
      </div>
    </div>

    <div
      id="context-menu"
      class="context-menu"
      hidden
      role="menu"
      aria-label="Tab actions"
      data-i18n-aria-label="tabActionsAriaLabel"
    ></div>

    <script type="module" src="app.js"></script>
  </body>
</html>
